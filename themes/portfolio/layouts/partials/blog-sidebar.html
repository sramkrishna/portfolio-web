<!-- Blog Posts Sidebar Toggle (Expand) -->
<button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle blog sidebar">
  <svg class="toggle-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
    <path d="M20,24H4c-2.2,0-4-1.8-4-4V4c0-2.2,1.8-4,4-4h16c2.2,0,4,1.8,4,4v16C24,22.2,22.2,24,20,24z M4,2C2.9,2,2,2.9,2,4v16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4c0-1.1-0.9-2-2-2H4z"/>
    <path d="M8,24c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v22C9,23.6,8.6,24,8,24z"/>
    <path d="M17,13c-0.3,0-0.5-0.1-0.7-0.3l-3-3c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l3,3c0.4,0.4,0.4,1,0,1.4C17.5,12.9,17.3,13,17,13z"/>
    <path d="M14,16c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l3-3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-3,3C14.5,15.9,14.3,16,14,16z"/>
  </svg>
</button>

<!-- Sidebar Close Button (Collapse) -->
<button class="sidebar-close" id="sidebarClose" aria-label="Close sidebar">
  <svg class="toggle-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
    <path d="M20,24H4c-2.2,0-4-1.8-4-4V4c0-2.2,1.8-4,4-4h16c2.2,0,4,1.8,4,4v16C24,22.2,22.2,24,20,24z M4,2C2.9,2,2,2.9,2,4v16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4c0-1.1-0.9-2-2-2H4z"/>
    <path d="M8,24c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v22C9,23.6,8.6,24,8,24z"/>
    <path d="M14,13c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l3-3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-3,3C14.5,12.9,14.3,13,14,13z"/>
    <path d="M17,16c-0.3,0-0.5-0.1-0.7-0.3l-3-3c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l3,3c0.4,0.4,0.4,1,0,1.4C17.5,15.9,17.3,16,17,16z"/>
  </svg>
</button>

<!-- Blog Posts Sidebar -->
<aside class="blog-sidebar" id="blogSidebar">
  <div class="sidebar-content" id="sidebarContent">
    <h3>Recent Blog Posts</h3>

    {{ $blogPosts := where site.RegularPages "Section" "blog-posts" }}
    {{ if $blogPosts }}
      <!-- GNOME Blog Posts -->
      {{ $gnomePosts := where $blogPosts ".Params.source" "GNOME Blog" }}
      {{ if $gnomePosts }}
        <div class="blog-source-group">
          <h4 class="source-heading">GNOME Blog</h4>
          {{ range first 2 (sort $gnomePosts "Date" "desc") }}
            <article class="sidebar-post">
              <h5>
                <a href="{{ .Params.external_url }}" target="_blank" rel="noopener">
                  {{ .Title }}
                </a>
              </h5>
              <div class="post-meta">
                <span class="post-date">{{ .Date.Format "Jan 2, 2006" }}</span>
              </div>
            </article>
          {{ end }}
        </div>
      {{ end }}

      <!-- Dev.to Posts -->
      {{ $devtoPosts := where $blogPosts ".Params.source" "Dev.to" }}
      {{ if $devtoPosts }}
        <div class="blog-source-group">
          <h4 class="source-heading">Dev.to</h4>
          {{ range first 2 (sort $devtoPosts "Date" "desc") }}
            <article class="sidebar-post">
              <h5>
                <a href="{{ .Params.external_url }}" target="_blank" rel="noopener">
                  {{ .Title }}
                </a>
              </h5>
              <div class="post-meta">
                <span class="post-date">{{ .Date.Format "Jan 2, 2006" }}</span>
              </div>
            </article>
          {{ end }}
        </div>
      {{ end }}
    {{ else }}
      <p class="no-posts">No blog posts available yet.</p>
    {{ end }}
  </div>
</aside>
